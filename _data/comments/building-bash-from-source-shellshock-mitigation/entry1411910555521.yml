_id: 1609357521
_parent: http://chester.me/archives/2014/09/building-bash-from-source-shellshock-mitigation/
replying_to_uid: '1609258436'
message: '<p>Hello!</p><p>bash''s behaviour regarding configuration files (/etc/profile, ~/.bash_profile ~/.bashrc) is sometimes hard to figure out - in no small part because it changes according to several things (whether it is a "login" shell, whether it''s "interactive", the relationship between effective/acutal GID/UID, and even whether it was called as "bash" or "sh"!). If you get curious, you can check all those quirks here: <a href="http://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html#Bash-Startup-Files" rel="nofollow noopener" title="http://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html#Bash-Startup-Files">http://www.gnu.org/software...</a></p><p>In your specific case, a likely explanation is that screen is calling it as a non-login shell (and hence, /etc/profile is not ran). It may have worked before either because of the permissions of the old bash, or something else that older versions didn''t do and the latest does).</p><p>This page describes what seems to be an easy way to solve it: <a href="http://ghantoos.org/2010/08/31/screen-profile-and-bashrc/" rel="nofollow noopener" title="http://ghantoos.org/2010/08/31/screen-profile-and-bashrc/">http://ghantoos.org/2010/08...</a> (in short: add "shell -$SHELL" to /etc/screenrc or ~/.screenrc). If that fails, you can try changing that line to include parameters mentioned in the first link to get bash to read /etc/profile.</p><p>As a last resource: assuming your /etc/profile is idempotent (i.e., it doesn''t matter if you run it one or ten times), you could source from some of the files that get actually run. But I don''t really recommend that (you may have overrides executed in the wrong order, for example).</p><p>Please let us know here if some of this solutions (and which one, if any) worked, so other people can benefit. Thanks!</p>'
name: 'chesterbr'
email: '3a49ee98333d753103cf708e40d36984'
hp: ''
date: 1411910555
            